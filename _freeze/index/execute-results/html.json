{
  "hash": "f22b1dbd4c311e12402a2c55f7cd4abf",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Using Cellular Communication Sensing to Support Early Recovery from Alcohol Use Disorder\nauthor:\n  - name: Kendra Wyant\n    email: kpaquette2@wisc.edu\n    orcid: 0000-0002-0767-7589\n    corresponding: false\n    #roles: []\n    affiliations:\n    - Department of Psychology, University of Wisconsin-Madison\n  - name: Coco Yu\n    email: jyu274@wisc.edu\n    orcid: 0000-0002-7731-0563\n    corresponding: false\n    #roles: []\n    affiliations:\n    - Department of Psychology, University of Wisconsin-Madison\n  - name: John J. Curtin \n    orcid: 0000-0002-3286-938X\n    corresponding: true\n    email: jjcurtin@wisc.edu\n    #roles:\n      #- Project administration\n      #- Software\n      #- Visualization\n    affiliations:\n    - Department of Psychology, University of Wisconsin-Madison\nkeywords:\n  - Substance use disorders\n  - Machine learning\n  - Cellular Sensing\nabstract: |\n\n#plain-language-summary: |\n  #To be filled in.\n#key-points:\n  #- Take away point 1 \n  #- Take away point 2\ndate: last-modified\nciteproc: true\ncsl: https://raw.githubusercontent.com/citation-style-language/styles/master/apa.csl\nbibliography: messages.bib\n#citation:\n  #container-title: To be filled in. \nnumber-sections: false \ntbl-cap-location: bottom\neditor_options: \n  chunk_output_type: console\n---\n\n\n\n\n\n<!--\nTarget Journal: JMIR Formative Research (1500 words)\n\nGoal word counts: \n\n- Introduction: 400 words or about 3 paragraphs (currently 600 words)\n- Methods: 600 words (currently 600 words)\n- Results: 200 words\n- Discussion: 500 words\n-->\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\nsuppressPackageStartupMessages(source(\"https://github.com/jjcurtin/lab_support/blob/main/format_path.R?raw=true\"))\n\npath_models <- format_path(\"risk/models/messages\")\n\npp_perf <- read_csv(here::here(path_models, \"pp_perf_tibble.csv\"),\n                    show_col_types = FALSE)\n\ncontrast <- read_csv(here::here(path_models, \n                                \"contrast_baseline.csv\"),\n                    show_col_types = FALSE)\n```\n:::\n\n\n\n\n\n\n# Introduction\n\nOne of the biggest challenges in Alcohol Use Disorders (AUD) treatment stems from the chronic relapsing nature of this disease [@scottPathwaysRelapseTreatment2005]. People can relapse days, weeks, and even years after obtaining the goal of abstinence. At least 60% of AUD patients relapse to heavy drinking within 6 months following treatment [@nguyenPredictingRelapseAlcohol2020a; @witkiewitzPredictorsHeavyDrinking2011a; @kirshenbaumQuantitativeReviewUbiquitous2009].\nAt most 50% of people with an AUD achieve remission after several years [@fleuryRemissionSubstanceUse2016; @heymanQuittingDrugsQuantitative2013].\n\nIdentifying initial lapses in early recovery is critical. Lapses -- single episodes of alcohol use -- are easy to define, have a clear onset, and are also clinically meaningful. They serve as an early warning sign of returning back to previous drinking behavior inconsistent with desired goals [@witkiewitzRelapsePreventionAlcohol2004a; @chungRelapseAlcoholOther2006a; @marlattRelapsePreventionMaintenance2005a]. Lapse predicts future lapses, with more frequent ones resulting in increased risks of relapse [@hogstrombrandtPredictionSingleEpisodes1999a; @witkiewitzRelapsePreventionAlcohol2004a].\n\nCurrent predictions of alcohol lapses rely heavily on self reports, which can be burdensome to measure in long run. Machine learning models leveraging ecological momentary assessment (EMA) measures have performed relatively well to predict goal-inconsistent alcohol use [@wyantMachineLearningModels2024]. The surveys were collected up to four times daily for three months. However, constantly completing surveys makes it burdensome for AUD patients. Although most EMA relevant mental health research demonstrated modest compliance rates, their time windows last from two weeks to three months [@porras-segoviaSmartphonebasedEcologicalMomentary2020; @czyzEcologicalAssessmentDaily2018; @vangenugtenExperiencedBurdenAdherence2020; @mackesy-amitiFeasibilityEcologicalMomentary2018; @hungSmartphonebasedEcologicalMomentary2016]. The study length is insufficient because AUD is a chronic disease that requires constant risk monitoring. As extended period of time is anticipated, users' perceived burden of answering surveys is presumably larger [@mogkImplementationWorkflowStrategies2023]. Although minimizing the number of items in the surveys and the frequency of prompting users to complete the surveys might help mitigate the associated burden, it can inevitably reduce the prediction precision and temporal precision of predictions.\n\nPassive cellular communication sensing represents new opportunities due to its feasibility, relatively low burden on individuals and continuous data collection. In a smartphone-based sensing platform the primary expense on the individual is the smartphone. Smartphone usage is already widespread. Eighty-five percent of US adults have a smartphone and this number is consistent across all sociodemographic groups, including those in recovery programs for substance use [@massonHealthrelatedInternetUse2019a; @pewresearchcenterMobileFactSheet2021a]. Studies collecting passive data have demonstrated high acceptability from participants and higher compliance rates compared to active measures [@wyantAcceptabilityPersonalSensing2023a; @beukenhorstUsingSmartphonesReduce2022a]. Further, risk monitoring using cellular sensing is temporally sensitive to fluctuating risks. Analyzing communication patterns can detect potential triggers in time without actively prompting users to reflect on their feelings at the moment or report their environment.\n\nCellular communications, with minimal contextual information, is embedded with potentially rich information that align with relapse antecedents. For example, social interactions can have important influences on drinking behavior [@hunter-reelEmphasizingInterpersonalFactors2009a; @alvarezSocialNetworkHeavy2021a]. We may be able to capture immediate risk based on who someone is calling or what time of day it is. Decreased interactions may signify isolation common with depressive symptoms, reaching out to people in one’s social network could signify a positive coping strategy, or changes in patterns between a single person in one’s social network could indicate conflict [@millerHowEffectiveAlcoholism2001a; @huffordRelapseNonlinearDynamic2003a; @chihPredictiveModelingAddiction2014a].\n\nThis study aims at building machine learning models from cellular communications that identify *who* are at heightened risk for alcohol lapses, *when* they will lapse, and *why* they are at increased risk.\n\n# Methods\n\n## Participants and Procedure\nWe recruited adults in early recovery from AUD in Madison, Wisconsin, through print and digital advertisements and partnerships with treatment centers. Eligibility criteria required that participants were age 18 or older, able to read and write in English, had moderate to severe AUD ^[(≥4 self-reported DSM-5 symptoms)], had been abstinent from alcohol for 1–8 weeks, were willing to use a single smartphone, and were not exhibiting severe psychosis or paranoia.^[Defined as scores >2.2 or 2.8, respectively, on the psychosis or paranoia scales of the Symptom Checklist–90 [@derogatislBriefSymptomInventory].]\n\nParticipants completed up to 5 study visits over approximately 3 months: a screening visit, intake visit, and 3 monthly follow-up visits. At screening we collected demographic information (age, sex at birth, race, ethnicity, education, marital status, employment, and income) and clinical characteristics (DSM-5 AUD symptom count, alcohol problems [@hurlbutAssessingAlcoholProblems1992], and presence of psychological symptoms [@derogatislBriefSymptomInventory]). At intake we collected additional self-report data on abstinence self-efficacy [@mckiernanDevelopmentBriefAbstinence2011], craving [@flanneryPsychometricPropertiesPenn1999], and recent recovery efforts. At each monthly follow-up, we downloaded cellular communication metadata (voice calls and SMS text message logs) from participants' smartphones. We identified important contacts (i.e., individuals they had communicated with at least twice by call or text in the past month) and asked 7 contextual questions about these contacts.\n\nWhile enrolled, participants completed 4 brief daily ecological momentary assessments (7-10 questions). The first item assessed alcohol use (date and time of any unreported drinking episodes). Lapse reports were verified at follow-up visits using a timeline follow-back interview. Additional sensing data streams and self-report measures were collected for the parent grant. The full study protocol is available on our Open Science Framework page ([https://osf.io/wgpz9/](https://osf.io/wgpz9/)). \n\nWe screened 192 participants. Of these, 169 enrolled and 154 completed the first follow-up. Data from 10 participants were excluded due to loss of abstinence goals, careless responding, or unusually low compliance. The final analytic sample included 144 participants.\n\n\n## Data Analysis Plan\nOur models predicted the probability of an alcohol lapse within a 24-hour window. Predictions were generated daily at 4 a.m., beginning on participants' second study day and continuing for up to 3 months. In total, there were 11,507 labeled prediction windows across all participants. \n\nFeatures were engineered from all available data up to the start of each window.^[We filtered the data to include only communications with known context prior to feature engineering.] The full model included 406 features from cellular communication data plus 24 features from baseline self-report measures. We also evaluated a comparison model that used only the baseline features. @tbl-1 details the raw predictors and feature engineering procedures. \n\nCandidate model configurations differed by algorithm (elastic net, random forest, XGBoost), outcome resampling method, and hyperparemter values. The best configuration for each model was selected using 6 repeats of participant-grouped 5-fold cross-validation. Our performance metric was area under the receiver operating curve (auROC). Folds were stratified by a between-subject measure of our outcome (low lapsers: 0-9 lapses; high lapsers: 10+ lapses).   \n\nWe evaluated model performance with a Bayesian hierarchical generalized linear model. Posterior distributions with 95% credible intervals (CIs) were estimated from the 30 held-out test sets using weakly informative, data-dependent priors to regularize and reduce overfitting.^[Residual SD ~ normal(0, exp(2)); intercept (centered predictors) ~ normal(2.3, 1.3); window-width contrasts ~ normal(0, 2.69); covariance ~ decov(1,1,1,1).] Random intercepts were included for repeat and fold (nested within repeat). auROCs were logit-transformed and regressed on model type to estimate the probability that model performances differed systematically. \n\nOur best performing models used an elastic net algorithm. We quantified feature importance by examining the retained features (i.e., coefficient value > 0) in the full model and ordering them by absolute coefficient value. These values provide an estimate of the direction and magnitude of association between each predictor and the outcome, conditional on the other features retained. All our annotated analysis scripts are publicly available on our study website ([https://jjcurtin.github.io/study_messages/](https://jjcurtin.github.io/study_messages/)).\n\n\n\n\n\n{{< embed notebooks/mak_tables.qmd#tbl-1 >}} \n\n\n\n\n\n\n\n\n\n## Ethical Considerations\nAll procedures were approved by the University of Wisconsin-Madison Institutional Review Board (Study #2015-0780). All participants provided written informed consent.\n\n\n# Results\n\n## Participants\n@tbl-2 provides the demographic characterization of our sample. We obtained a total of 375,912 contextualized communications across participants. Participants had, on average, 2,610 communications (range = 109-14,225). 56% of participants reported at least one lapse. \n\n\n\n\n\n{{< embed notebooks/mak_tables.qmd#tbl-2 >}} \n\n\n\n\n\n\n\n\n## Model Evaluation\nThe median posterior probability for auROC for the full model was 0.68. The 95% CIs were relatively narrow ([0.64, 0.71]) and did not contain .5, or chance performance. The final model retained 13 features (@fig-1). The top four features were baseline measures of abstinence confidence, having a goal of abstinence, abstinence self-efficacy when experiencing negative affect, and craving. Communication frequency with people who don't know about the individual's recovery goals also appeared to be an important feature for increasing lapse risk.\n\n\n\n\n\n{{< embed notebooks/mak_figures.qmd#fig-1 >}} \n\n\n\n\n\n\n\n\n\n## Model Comparison\nWe evaluated a comparison model to determine the extent that cellular communications were adding predictive value above and beyond the baseline features. The baseline model retained 5 features and obtained performance nearly identical to the full model (median auROC 0.68, 95% CIs [0.64, 0.71]). There was a median difference in auROC of the full and baseline models of less than .01, yeilding no evidence (52% probability) that the posterior distributions were meaningfully different.\n\n# Discussion\n\n\n\n\n\n\n\\newpage\n",
    "supporting": [
      "index_files\\figure-html"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}